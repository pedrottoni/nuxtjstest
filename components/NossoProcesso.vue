<script setup lang="ts">
  const { $gsap, $ScrollTrigger } = useNuxtApp()
  const mm = $gsap.matchMedia()
  onMounted(() => {
    const titles = document.querySelectorAll('.sec4title')
    for (let i = 0; i < titles.length; i++) {
      mm.add('(min-width: 24px)', () => {
        $gsap.from(titles[i], {
          ease: 'power1.out',
          opacity: -1 - i * 1.5,
          yPercent: 100 + i / 60,
          duration: 0.3 + i / 9,
          scrollTrigger: {
            trigger: '.content',
            start: 'top 95%',
            end: 'bottom 12%',
            scrub: false,
            toggleActions: 'play reverse play reverse',
          },
        })
      })
    }
  })
</script>
<template>
    <section id="processo" class="bg-slate-100 py-28">
        <div class="container flex flex-col mx-auto place-items-center px-4">
            <div class="flex flex-col mb-16 text-center md:max-w-xl md:place-items-center">
                <h3>Nosso processo</h3>
                <h2>
          O leilão ocorre<br/>
          em duas etapas </h2>
                <p class="mt-4 my-8">
          O leilão funciona em duas etapas. Na primeira, são recebidas as ordens
          de compra e venda e é feito o cálculo dos preços de otimizam as
          quantidades negociadas e as respectivas alocações. Na segunda rodada,
          os preços já estão determinados e os participantes podem colocar novas
          ordens de compra, venda ou troca casada. </p>
            </div>
            <div class="content flex flex-col gap-12 place-items-center w-full md:flex-row md:gap-8 md:justify-evenly lg:gap-12">
                <div class="flex flex-col">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 401 146" class="sec4title mb-8 mx-auto w-9/12">
                        <path stroke="#C8D1E1" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1.5 140.86V128h398v16.92"/>
                        <path fill="#FCA311" d="M200.37 23.82V62h-6.92V30.55h-.22l-8.94 5.7v-6.34l9.5-6.1h6.58Z"/>
                        <path fill="#FCA311" d="M214.25 33.4v-5c0-.6-.14-1.07-.42-1.38-.28-.33-.72-.5-1.31-.5-.65 0-1.15.13-1.52.38-.36.25-.54.6-.54 1.07l-2.59-.19c0-1 .43-1.81 1.27-2.46a5.44 5.44 0 0 1 3.38-.97c1.3 0 2.35.34 3.15 1.03.8.67 1.2 1.68 1.2 3.02V33c0 .43.01.87.06 1.32.06.44.16.89.33 1.34h-2.65a7.5 7.5 0 0 1-.36-2.28Zm.66-4.25v1.7h-2.16c-.86 0-1.49.17-1.88.5-.4.32-.6.7-.6 1.13 0 .39.14.7.41.93.28.23.72.34 1.32.34a3.64 3.64 0 0 0 2.27-.92c.29-.26.43-.52.43-.76l.26 1.73c-.22.47-.63.94-1.2 1.4-.6.44-1.39.66-2.4.66-1.2 0-2.12-.3-2.76-.9a3.19 3.19 0 0 1-.96-2.42c0-1.09.42-1.92 1.27-2.5.84-.6 2.12-.89 3.84-.89h2.16Z"/>
                        <path fill="#495569" d="M163.86 92V71.64h13.24v3.09h-9.55v5.53h8.87v3.09h-8.87v5.56h9.63V92h-13.32Zm24.47-15.27v2.78h-8.78v-2.78h8.78Zm-6.6-3.66h3.59V87.4c0 .48.07.85.22 1.11.15.25.35.42.6.52.24.09.51.14.81.14a3.52 3.52 0 0 0 1.06-.14l.6 2.81a8.12 8.12 0 0 1-2.12.36c-.9.03-1.71-.11-2.43-.4a3.8 3.8 0 0 1-1.72-1.42 4.2 4.2 0 0 1-.62-2.39V73.07Zm14 19.24c-.96 0-1.83-.17-2.6-.52a4.27 4.27 0 0 1-1.84-1.55 4.54 4.54 0 0 1-.66-2.53 3.7 3.7 0 0 1 1.78-3.49 6.73 6.73 0 0 1 1.86-.76c.7-.18 1.41-.3 2.16-.39.89-.1 1.61-.17 2.17-.25.56-.08.96-.2 1.22-.36.25-.16.38-.42.38-.76v-.06c0-.75-.22-1.33-.66-1.74a2.75 2.75 0 0 0-1.92-.62c-.88 0-1.58.2-2.1.58a2.8 2.8 0 0 0-1.03 1.36l-3.37-.48a5.36 5.36 0 0 1 3.56-3.73 9.52 9.52 0 0 1 5.12-.22c.72.17 1.4.45 2 .85.6.4 1.08.93 1.45 1.6.37.68.55 1.52.55 2.54V92h-3.46v-2.1h-.12a4.4 4.4 0 0 1-2.4 2.08c-.6.22-1.29.33-2.08.33Zm.94-2.65c.73 0 1.35-.14 1.88-.42a3.18 3.18 0 0 0 1.66-2.72v-1.8c-.11.1-.3.18-.57.26a8.1 8.1 0 0 1-.9.2 27.21 27.21 0 0 1-1.83.29c-.53.07-1.02.19-1.44.36-.42.16-.76.4-1 .7-.25.28-.37.66-.37 1.12 0 .67.24 1.17.72 1.5.49.34 1.1.51 1.85.51Zm10.75 8.07v-21h3.54v2.52h.21c.19-.37.45-.76.79-1.18.33-.42.8-.79 1.37-1.08a4.7 4.7 0 0 1 2.2-.46 5.82 5.82 0 0 1 5.46 3.56c.57 1.16.85 2.6.85 4.3a10 10 0 0 1-.83 4.27 5.78 5.78 0 0 1-5.47 3.6 4.42 4.42 0 0 1-3.57-1.5 6.86 6.86 0 0 1-.8-1.17h-.15v8.14h-3.6Zm3.53-13.37c0 1 .14 1.86.42 2.6.28.74.7 1.32 1.22 1.74.54.41 1.19.62 1.95.62.8 0 1.46-.22 2-.64.54-.43.94-1.02 1.21-1.76.28-.75.42-1.6.42-2.56 0-.94-.14-1.79-.4-2.52a3.8 3.8 0 0 0-1.22-1.73 3.17 3.17 0 0 0-2-.63c-.78 0-1.43.2-1.97.6a3.8 3.8 0 0 0-1.22 1.7c-.27.74-.4 1.6-.4 2.58Zm18.37 7.95c-.97 0-1.84-.17-2.62-.52a4.27 4.27 0 0 1-1.83-1.55 4.54 4.54 0 0 1-.66-2.53 3.69 3.69 0 0 1 1.78-3.49 6.79 6.79 0 0 1 1.85-.76c.7-.18 1.42-.3 2.16-.39.9-.1 1.62-.17 2.18-.25.56-.08.96-.2 1.21-.36.26-.16.4-.42.4-.76v-.06c0-.75-.23-1.33-.67-1.74a2.75 2.75 0 0 0-1.92-.62c-.89 0-1.58.2-2.1.58-.51.38-.86.84-1.04 1.36l-3.36-.48a5.37 5.37 0 0 1 3.55-3.73 9.52 9.52 0 0 1 5.12-.22c.73.17 1.4.45 2 .85.6.4 1.09.93 1.45 1.6.38.68.56 1.52.56 2.54V92h-3.46v-2.1h-.12a4.4 4.4 0 0 1-2.4 2.08c-.6.22-1.29.33-2.08.33Zm.93-2.65c.72 0 1.35-.14 1.88-.42a3.18 3.18 0 0 0 1.66-2.72v-1.8c-.11.1-.3.18-.58.26a8.1 8.1 0 0 1-.9.2 27.21 27.21 0 0 1-1.82.29c-.54.07-1.02.19-1.44.36-.43.16-.76.4-1 .7-.25.28-.37.66-.37 1.12 0 .67.24 1.17.72 1.5.49.34 1.1.51 1.85.51Z"/>
                    </svg>
                    <div class="flex flex-row gap-10 justify-around place-items-center w-full md:gap-8 lg:gap-20">
                        <div class="sec4title flex flex-col gap-4 place-content-center place-items-center w-32 md:w-auto">
                            <nuxt-img src="/preco.svg" width="100"/>
                            <h6 class="font-semibold text-center text-slate-600">
                Preço<br/>e lote </h6>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 23 41" class="h-10 md:max-h-8 md:w-3">
                            <path fill="#C8D1E1" d="M2.38 40.5a1.8 1.8 0 0 0 1.25-.55l18.16-18.16c.7-.71.7-1.86 0-2.57L3.63 1.06a1.81 1.81 0 1 0-2.57 2.57L17.94 20.5 1.06 37.38a1.82 1.82 0 0 0 1.32 3.12Z"/>
                        </svg>
                        <div class="sec4title flex flex-col gap-4 place-content-center place-items-center w-32 md:w-auto">
                            <nuxt-img src="/resultados.svg" width="100"/>
                            <h6 class="font-semibold text-slate-600 text-center">
                Resultado<br/>parcial </h6>
                        </div>
                    </div>
                </div>
                <div class="gap-4 w-24 hidden md:flex flex-row">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 37 40" class="sec4title rotate-90 md:rotate-0">
                        <path fill="#204387" fill-opacity=".2" d="M33.04 14.48a6.3 6.3 0 0 1 0 10.9L9.44 39.01A6.3 6.3 0 0 1 0 33.56V6.3A6.3 6.3 0 0 1 9.44.85l23.6 13.63Z"/>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 37 40" class="sec4title rotate-90 md:rotate-0">
                        <path fill="#204387" fill-opacity=".2" d="M33.04 14.48a6.3 6.3 0 0 1 0 10.9L9.44 39.01A6.3 6.3 0 0 1 0 33.56V6.3A6.3 6.3 0 0 1 9.44.85l23.6 13.63Z"/>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 37 40" class="sec4title rotate-90 md:rotate-0">
                        <path fill="#204387" fill-opacity=".2" d="M33.04 14.48a6.3 6.3 0 0 1 0 10.9L9.44 39.01A6.3 6.3 0 0 1 0 33.56V6.3A6.3 6.3 0 0 1 9.44.85l23.6 13.63Z"/>
                    </svg>
                </div>
                <div class="flex flex-col">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 401 146" class="sec4title mb-8 mx-auto w-9/12">
                        <path stroke="#C8D1E1" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1.5 140.86V128h398v16.92"/>
                        <path fill="#FCA311" d="M181.08 62v-5.02L194.4 43.9a62.84 62.84 0 0 0 3.19-3.43c.85-1 1.48-1.97 1.9-2.91.43-.94.65-1.94.65-3a5.48 5.48 0 0 0-3.1-5.14 7.32 7.32 0 0 0-3.28-.71c-1.26 0-2.37.26-3.32.79a5.42 5.42 0 0 0-2.21 2.19 7.04 7.04 0 0 0-.77 3.4h-6.62c0-2.44.56-4.56 1.67-6.36 1.11-1.8 2.64-3.2 4.6-4.18a14.81 14.81 0 0 1 6.75-1.48c2.57 0 4.83.48 6.78 1.44a11 11 0 0 1 4.54 3.96 10.3 10.3 0 0 1 1.63 5.73c0 1.44-.27 2.85-.82 4.24a18 18 0 0 1-2.91 4.61 73.5 73.5 0 0 1-5.8 6.13l-6.61 6.74v.26h16.72V62h-26.32Z"/>
                        <path fill="#FCA311" d="M217.76 33.32v-5.01c0-.6-.15-1.07-.43-1.4-.28-.32-.72-.48-1.32-.48-.65 0-1.16.12-1.52.37-.36.25-.55.61-.55 1.08l-2.6-.2a3 3 0 0 1 1.28-2.46 5.48 5.48 0 0 1 3.4-.98 4.7 4.7 0 0 1 3.16 1.03c.8.68 1.2 1.7 1.2 3.04v4.63c0 .43.03.87.08 1.32.04.45.16.9.33 1.35h-2.67a7.46 7.46 0 0 1-.36-2.3Zm.66-4.26v1.71h-2.17c-.87 0-1.5.17-1.9.5-.4.32-.6.7-.6 1.13 0 .4.14.7.42.94.28.23.72.35 1.33.35a3.64 3.64 0 0 0 2.28-.94c.28-.26.43-.51.43-.76l.25 1.74c-.22.48-.62.94-1.2 1.4-.6.45-1.4.68-2.42.68-1.2 0-2.12-.3-2.77-.91a3.2 3.2 0 0 1-.96-2.44c0-1.09.42-1.93 1.27-2.51.85-.6 2.14-.9 3.87-.9h2.17Z"/>
                        <path fill="#495569" d="M163.86 92V71.64h13.24v3.09h-9.55v5.53h8.87v3.09h-8.87v5.56h9.63V92h-13.32Zm24.47-15.27v2.78h-8.78v-2.78h8.78Zm-6.6-3.66h3.59V87.4c0 .48.07.85.22 1.11.15.25.35.42.6.52.24.09.51.14.81.14a3.52 3.52 0 0 0 1.06-.14l.6 2.81a8.12 8.12 0 0 1-2.12.36c-.9.03-1.71-.11-2.43-.4a3.8 3.8 0 0 1-1.72-1.42 4.2 4.2 0 0 1-.62-2.39V73.07Zm14 19.24c-.96 0-1.83-.17-2.6-.52a4.27 4.27 0 0 1-1.84-1.55 4.54 4.54 0 0 1-.66-2.53 3.7 3.7 0 0 1 1.78-3.49 6.73 6.73 0 0 1 1.86-.76c.7-.18 1.41-.3 2.16-.39.89-.1 1.61-.17 2.17-.25.56-.08.96-.2 1.22-.36.25-.16.38-.42.38-.76v-.06c0-.75-.22-1.33-.66-1.74a2.75 2.75 0 0 0-1.92-.62c-.88 0-1.58.2-2.1.58a2.8 2.8 0 0 0-1.03 1.36l-3.37-.48a5.36 5.36 0 0 1 3.56-3.73 9.52 9.52 0 0 1 5.12-.22c.72.17 1.4.45 2 .85.6.4 1.08.93 1.45 1.6.37.68.55 1.52.55 2.54V92h-3.46v-2.1h-.12a4.4 4.4 0 0 1-2.4 2.08c-.6.22-1.29.33-2.08.33Zm.94-2.65c.73 0 1.35-.14 1.88-.42a3.18 3.18 0 0 0 1.66-2.72v-1.8c-.11.1-.3.18-.57.26a8.1 8.1 0 0 1-.9.2 27.21 27.21 0 0 1-1.83.29c-.53.07-1.02.19-1.44.36-.42.16-.76.4-1 .7-.25.28-.37.66-.37 1.12 0 .67.24 1.17.72 1.5.49.34 1.1.51 1.85.51Zm10.75 8.07v-21h3.54v2.52h.21c.19-.37.45-.76.79-1.18.33-.42.8-.79 1.37-1.08a4.7 4.7 0 0 1 2.2-.46 5.82 5.82 0 0 1 5.46 3.56c.57 1.16.85 2.6.85 4.3a10 10 0 0 1-.83 4.27 5.78 5.78 0 0 1-5.47 3.6 4.42 4.42 0 0 1-3.57-1.5 6.86 6.86 0 0 1-.8-1.17h-.15v8.14h-3.6Zm3.53-13.37c0 1 .14 1.86.42 2.6.28.74.7 1.32 1.22 1.74.54.41 1.19.62 1.95.62.8 0 1.46-.22 2-.64.54-.43.94-1.02 1.21-1.76.28-.75.42-1.6.42-2.56 0-.94-.14-1.79-.4-2.52a3.8 3.8 0 0 0-1.22-1.73 3.17 3.17 0 0 0-2-.63c-.78 0-1.43.2-1.97.6a3.8 3.8 0 0 0-1.22 1.7c-.27.74-.4 1.6-.4 2.58Zm18.37 7.95c-.97 0-1.84-.17-2.62-.52a4.27 4.27 0 0 1-1.83-1.55 4.54 4.54 0 0 1-.66-2.53 3.69 3.69 0 0 1 1.78-3.49 6.79 6.79 0 0 1 1.85-.76c.7-.18 1.42-.3 2.16-.39.9-.1 1.62-.17 2.18-.25.56-.08.96-.2 1.21-.36.26-.16.4-.42.4-.76v-.06c0-.75-.23-1.33-.67-1.74a2.75 2.75 0 0 0-1.92-.62c-.89 0-1.58.2-2.1.58-.51.38-.86.84-1.04 1.36l-3.36-.48a5.37 5.37 0 0 1 3.55-3.73 9.52 9.52 0 0 1 5.12-.22c.73.17 1.4.45 2 .85.6.4 1.09.93 1.45 1.6.38.68.56 1.52.56 2.54V92h-3.46v-2.1h-.12a4.4 4.4 0 0 1-2.4 2.08c-.6.22-1.29.33-2.08.33Zm.93-2.65c.72 0 1.35-.14 1.88-.42a3.18 3.18 0 0 0 1.66-2.72v-1.8c-.11.1-.3.18-.58.26a8.1 8.1 0 0 1-.9.2 27.21 27.21 0 0 1-1.82.29c-.54.07-1.02.19-1.44.36-.43.16-.76.4-1 .7-.25.28-.37.66-.37 1.12 0 .67.24 1.17.72 1.5.49.34 1.1.51 1.85.51Z"/>
                    </svg>
                    <div class="flex flex-row gap-10 justify-around place-items-center w-full md:gap-8 lg:gap-20">
                        <div class="sec4title flex flex-col gap-4 place-content-center place-items-center w-32 md:w-auto">
                            <nuxt-img src="/recompra.svg" width="100"/>
                            <h6 class="font-semibold text-slate-600 text-center">
                Complementares<br/>
                e trocas </h6>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 23 41" class="h-10 md:max-h-8 md:w-3">
                            <path fill="#C8D1E1" d="M2.38 40.5a1.8 1.8 0 0 0 1.25-.55l18.16-18.16c.7-.71.7-1.86 0-2.57L3.63 1.06a1.81 1.81 0 1 0-2.57 2.57L17.94 20.5 1.06 37.38a1.82 1.82 0 0 0 1.32 3.12Z"/>
                        </svg>
                        <div class="sec4title flex flex-col gap-4 place-content-center place-items-center w-32 md:w-auto">
                            <nuxt-img src="/resultados.svg" width="100"/>
                            <h6 class="font-semibold text-center text-slate-600">
                Resultado<br/>final </h6>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</template>
<style scoped></style>
